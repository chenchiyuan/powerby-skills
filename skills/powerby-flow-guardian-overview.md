# PowerBy Flow Guardian - 流程守护者技能

**技能名称**: `powerby-flow-guardian`
**版本**: v1.0.0
**创建日期**: 2025-12-18

---

## 🎯 技能概述

`powerby-flow-guardian` 是PowerBy框架的流程守护者，专门负责监控项目流程状态、诊断问题、提供操作指导，确保项目严格遵循P0-P8生命周期标准。

## ✨ 核心能力

### 🔍 状态感知
- 实时检测项目当前阶段（P0-P8）
- 监控文档完整性和门禁状态
- 分析迭代健康度

### 📋 流程指导
- 提供当前阶段的即时行动建议
- 预测和推荐下一步操作
- 生成完整的开发路线图

### 🚨 问题诊断
- 主动识别流程违规和问题
- 发现缺失的文档和步骤
- 分析根因并提供解决方案

### 🛡️ 合规保障
- 审计指令执行顺序
- 检查门禁通过状态
- 验证文档命名和结构规范

## 🚀 快速开始

### 基本使用

```bash
# 分析当前状态
/powerby-flow-guardian analyze

# 检查特定阶段合规性
/powerby-flow-guardian audit --phase P4

# 获取下一步指导
/powerby-flow-guardian guidance --next-step

# 诊断进度问题
/powerby-flow-guardian diagnose --stuck

# 快速检查门禁状态
/powerby-flow-guardian check --gate 3

# 生成完整报告
/powerby-flow-guardian report --full
```

### 典型场景

#### 场景1: 新项目启动
```bash
$ /powerby-flow-guardian analyze

🔍 流程状态分析

📍 当前状态: 项目尚未初始化
- 项目结构: 未创建
- Git仓库: 未初始化
- 文档状态: 无

✅ 建议立即执行:
1. 创建项目目录结构
2. 初始化Git仓库
3. 运行 /powerby.initialize 建立项目宪章

📋 下一步操作:
/powerby.initialize my-project "项目描述"
```

#### 场景2: 阶段转换检查
```bash
$ /powerby-flow-guardian audit --phase P4

🚨 合规检查报告

✅ 通过的检查项:
- 项目宪章存在且完整
- PRD文档格式正确
- 需求澄清记录完整

❌ 违规项:
1. 缺失Gate 3检查
   - 要求: 通过技术调研验收
   - 现状: research.md不存在
   - 建议: 执行 /powerby.research
```

#### 场景3: 进度停滞诊断
```bash
$ /powerby-flow-guardian diagnose --stuck

🔍 问题诊断

🚨 发现阻塞点:

1. **主要阻塞**: Gate 3 未通过
   - 位置: P3 → P4 过渡
   - 原因: 技术调研报告不符合标准
   - 影响: 无法进入架构设计阶段
   - 解决: 完善research.md，增加备选方案对比

🛠️ 修复方案:
1. 立即修复 (预计1天)
   - 完善技术调研报告
   - 完成Gate 3检查

2. 继续推进
   - 执行 /powerby.design
   - 进入架构设计阶段

⏱️ 预计修复时间: 1-2天
```

## 📊 核心功能模块

### 1. 状态感知引擎
- **项目状态检测**: 实时监控当前阶段和门禁状态
- **文档完整性扫描**: 验证必需文档的存在性和完整性
- **迭代健康分析**: 综合评估项目健康度

### 2. 流程分析器
- **依赖关系分析**: 检查指令执行顺序和前置条件
- **合规性审计**: 识别流程违规和风险点
- **瓶颈识别**: 发现流程中的阻塞和性能问题

### 3. 指导建议生成器
- **即时行动建议**: 提供当前阶段的操作指导
- **下一步预测**: 推荐即将执行的指令
- **路线图生成**: 创建完整的开发计划

### 4. 问题诊断器
- **问题识别**: 主动发现缺失元素和异常
- **根因分析**: 深入分析问题产生的根本原因
- **解决方案**: 提供具体的修复建议

## 🎛️ 操作模式

| 模式 | 说明 | 使用场景 |
|-----|------|---------|
| `analyze` | 分析当前状态 | 了解项目现在在哪、该做什么 |
| `audit` | 合规性审计 | 检查是否严格遵循流程 |
| `guidance` | 生成操作指导 | 不知道下一步怎么走 |
| `diagnose` | 问题诊断 | 项目进度停滞或遇到问题 |
| `check` | 快速检查 | 快速验证特定门禁或状态 |
| `report` | 生成完整报告 | 需要全面的项目健康报告 |

## 💡 使用建议

### ✅ 推荐使用时机
- 项目启动时检查初始状态
- 阶段转换前验证前置条件
- 进度停滞时诊断问题
- 定期流程健康检查

### ❌ 避免过度使用
- 正在执行核心技能时频繁调用
- 仅为了好奇心而无具体问题
- 在没有项目的情况下使用

### 🤝 与其他技能协作
- **powerby-product**: 在P1阶段提供状态检查和需求指导（融合澄清）
- **powerby-architect**: 在P3-P4阶段提供架构流程指导
- **powerby-engineer**: 在P5-P6阶段提供任务执行指导
- **powerby-code-review**: 在P7-P8阶段提供最终合规检查

## 📈 预期效果

通过使用`powerby-flow-guardian`，您将获得：

1. **流程透明度**: 始终清楚当前在流程中的位置
2. **操作明确性**: 知道现在该做什么、下一步怎么做
3. **问题预防性**: 提前发现并解决问题，避免返工
4. **合规保障**: 确保严格遵循PowerBy标准
5. **效率提升**: 减少迷茫和试错时间

## 🔗 相关文档

- [PowerBy Flow Guardian 完整文档](./powerby-flow-guardian.md)
- [PowerBy 生命周期概览](../docs/powerby-lifecycle-overview.md)
- [PowerBy 指令流程设计](../docs/powerby-command-design-summary.md)

---

**状态**: ✅ 设计完成，准备实现
**优先级**: 高
**预计开发时间**: 3-5天
